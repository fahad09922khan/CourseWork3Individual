(function(){"use strict";var t={8207:function(t,e,s){var a=s(6369),r=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{margin:"0"},attrs:{id:"app"}},[e("title",[t._v("Darsgah School")]),e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("div",{staticClass:"container px-4 px-lg-5"},[e("h3",{staticClass:"navbar-logo ms-0 me-4",staticStyle:{width:"15%"}},[t._v("Darsgah School")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4"},[e("li",{staticClass:"nav-item"},["home"===t.page?e("a",{staticClass:"nav-link-custom nav-link active",staticStyle:{cursor:"pointer"},attrs:{"aria-current":"page",onmouseover:"this.style.outline='1px solid black'; this.style.borderRadius='5px';",onmouseout:"this.style.outline='none';"},on:{click:function(e){return t.navigateTo("home")}}},[t._v("Home")]):t._e()]),e("li",{staticClass:"nav-item"},["products"===t.page||"cart"===t.page?e("a",{staticClass:"nav-link-custom nav-link",staticStyle:{cursor:"pointer"},attrs:{"aria-current":"page",onmouseover:"this.style.outline='1px solid black'; this.style.borderRadius='5px';",onmouseout:"this.style.outline='none';"},on:{click:function(e){return t.navigateTo("home")}}},[t._v("Home")]):t._e()]),e("li",{staticClass:"nav-item"},["products"===t.page?e("a",{staticClass:"nav-link-custom nav-link active",staticStyle:{cursor:"pointer"},attrs:{onmouseover:"this.style.outline='1px solid black'; this.style.borderRadius='5px';",onmouseout:"this.style.outline='none';"},on:{click:function(e){return t.navigateTo("products")}}},[t._v("Products")]):t._e()]),e("li",{staticClass:"nav-item"},["home"===t.page||"cart"===t.page?e("a",{staticClass:"nav-link-custom nav-link",staticStyle:{cursor:"pointer"},attrs:{onmouseover:"this.style.outline='1px solid black'; this.style.borderRadius='5px';",onmouseout:"this.style.outline='none';"},on:{click:function(e){return t.navigateTo("products")}}},[t._v("Products")]):t._e()])]),e("form",{staticClass:"d-flex",staticStyle:{"margin-right":"15px"}},[e("a",{staticClass:"btn btn-outline-dark",attrs:{type:"submit"},on:{click:function(e){return t.navigateTo("cart")}}},[e("i",{staticClass:"bi-cart-fill me-1"}),t._v(" Cart "),e("span",{staticClass:"badge bg-dark text-white ms-1 rounded-pill"},[t._v(t._s(t.cartCount))])])]),t.cart.length>0?e("form",{staticClass:"d-flex"},[e("a",{staticClass:"btn btn-outline-dark",attrs:{type:"submit"},on:{click:function(e){return t.navigateTo("checkout")}}},[e("i",{staticClass:"bi-cart-fill me-1"}),t._v(" Checkout ")])]):t._e()])])]),"home"===t.page?e("section",{staticClass:"py-5 home-section"},[e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",height:"70vh","flex-direction":"column"}},[e("h1",{staticClass:"text-white",staticStyle:{"text-align":"center"}},[t._v("Welcome to Darsgah School")]),e("p",{staticClass:"text-white"},[t._v(" Discover the perfect after-school class for your child at Darsgah School ")]),e("button",{staticClass:"btn btn-dark btn-lg",staticStyle:{"text-align":"center","margin-top":"25px"},attrs:{type:"submit"},on:{click:function(e){return t.navigateTo("products")}}},[t._v(" Book Now ")])])]):t._e(),e("div",{attrs:{id:"products"}},["products"===t.page?e("ProductList",{attrs:{products:this.products},on:{addProduct:t.addToCart}}):t._e()],1),e("div",{attrs:{id:"cart"}},["cart"===t.page?e("Cart",{attrs:{cart:t.cart},on:{"remove-from-cart":t.removeFromCart,"reduce-quantity":t.reduceQuantity}}):t._e()],1),e("div",{attrs:{id:"checkout"}},["checkout"===t.page?e("checkOut",{attrs:{checkout:t.checkOut}}):t._e()],1)])},i=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],o=(s(7658),function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"bg-dark py-5"},[e("div",{staticClass:"container px-4 px-lg-5 my-5"},[e("div",{staticClass:"text-center text-white"},[e("h1",{staticClass:"display-4 fw-bolder"},[t._v("Learn in style")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control mr-sm-2",attrs:{type:"text",placeholder:"ðŸ” Search"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.filteredList]}}),e("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortByOptions.type,expression:"sortByOptions.type"}],staticClass:"form-select mr-sm-2",staticStyle:{width:"100%","max-width":"250px",margin:"10px"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.sortByOptions,"type",e.target.multiple?s:s[0])},t.sortedLessons]}},[e("option",{attrs:{value:"subject"}},[t._v("Alphabatically")]),e("option",{attrs:{value:"price"}},[t._v("Price")]),e("option",{attrs:{value:"space"}},[t._v("Availability")]),e("option",{attrs:{value:"location"}},[t._v("location")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortByOptions.direction,expression:"sortByOptions.direction"}],staticClass:"form-select small",staticStyle:{width:"100%","max-width":"250px",margin:"10px"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.sortByOptions,"direction",e.target.multiple?s:s[0])},t.sortedLessons]}},[e("option",{attrs:{value:"ascending"}},[t._v("Ascending")]),e("option",{attrs:{value:"descending"}},[t._v("Descending")])])])])])]),e("section",{staticClass:"py-5"},[e("div",{staticClass:"container px-4 px-lg-5 mt-5"},[e("div",{staticClass:"row gx-4 gx-lg-5 row-cols-1 row-cols-md-3 row-cols-xl-4 justify-content-center"},t._l(t.filteredProducts,(function(s){return e("div",{key:s.id,staticClass:"col mb-5"},[e("div",{staticClass:"card h-100"},[e("img",{staticClass:"card-img-top",staticStyle:{height:"250px",width:"100%","border-bottom":"1px solid grey"},attrs:{src:s.image}}),e("div",{staticClass:"card-body p-4"},[e("div",{staticClass:"text-center"},[e("h5",{staticClass:"fw-bolder",staticStyle:{"border-bottom":"1px solid grey"}},[t._v(" "+t._s(s.subject)+" ")]),e("h5",{staticClass:"fw-normal"},[t._v("Location:")]),e("h5",{staticClass:"fw-light"},[t._v(t._s(s.location))]),e("h5",{staticClass:"fw-normal",staticStyle:{"margin-top":"15px"}},[t._v(" Spaces: "+t._s(s.space)+" ")]),e("h5",{staticClass:"fw-semibold",staticStyle:{"margin-top":"15px"}},[t._v(" AED "+t._s(s.price)+" ")])])]),e("div",{staticClass:"card-footer p-4 pt-0 border-top-0 bg-transparent"},[e("div",{staticClass:"text-center"},[t.spaceCount(s)?e("button",{staticClass:"btn btn-outline-dark mt-auto",on:{click:function(e){return t.addToCart(s)}}},[t._v(" Add To Cart ")]):e("button",{staticClass:"btn btn-danger mt-auto",attrs:{disabled:""}},[t._v(" Add to Cart ")])])])])])})),0)])])])}),n=[],c=s(4161),l={data(){return{products:[],filteredProducts:[],search:"",sortByOptions:{type:"subject",direction:"ascending",sort:"ascending"}}},methods:{filteredList(){fetch(`http://localhost:3000/collection/lesson/search?key_word=${this.search}`).then((t=>t.json())).then((t=>{this.filteredProducts=t})).catch((t=>{console.error(t)}))},searchProducts(){this.filteredProducts=this.products.filter((t=>t.subject.toLowerCase().includes(this.search.toLowerCase()))),this.sortedLessons()},addToCart(t){this.$emit("addProduct",t)},spaceCount(t){return t.space>0},sortedLessons(){switch(this.sortByOptions.type){case"subject":return this.filteredProducts.sort(((t,e)=>"ascending"===this.sortByOptions.direction?t.subject.toUpperCase()>e.subject.toUpperCase()?1:-1:t.subject.toUpperCase()<e.subject.toUpperCase()?1:-1));case"location":return this.filteredProducts.sort(((t,e)=>"ascending"===this.sortByOptions.direction?t.location.toUpperCase()>e.location.toUpperCase()?1:-1:t.location.toUpperCase()<e.location.toUpperCase()?1:-1));case"price":return this.filteredProducts.sort(((t,e)=>"ascending"===this.sortByOptions.direction?t.price-e.price:e.price-t.price));case"space":return this.filteredProducts.sort(((t,e)=>"ascending"===this.sortByOptions.direction?t.space-e.space:e.space-t.space));default:return this.filteredProducts.sort(((t,e)=>"ascending"===this.sortByOptions.direction?t.id-e.id:e.id-t.id))}}},created(){c.Z.get("http://localhost:3000/collection/lesson/search?key_word="+this.search).then((t=>{this.products=t.data,this.filteredProducts=t.data})).catch((t=>{console.error(t)}))},computed:{}},u=l,d=s(1001),p=(0,d.Z)(u,o,n,!1,null,null,null),h=p.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container my-5"},[e("h2",{staticClass:"mb-4"},[t._v("Cart")]),0===t.cartCount?e("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v(" Your cart is empty ")]):e("div",[e("section",{staticClass:"py-5"},[e("div",{staticClass:"container px-4 px-lg-5 mt-5"},[e("div",{staticClass:"row gx-4 gx-lg-5 row-cols-1 row-cols-md-3 row-cols-xl-4 justify-content-center"},t._l(t.cart,(function(s){return e("div",{key:s.id,staticClass:"col mb-5"},[e("div",{staticClass:"card h-100"},[e("img",{staticClass:"card-img-top",staticStyle:{height:"250px",width:"100%","border-bottom":"1px solid grey"},attrs:{src:s.image}}),e("div",{staticClass:"card-body p-4"},[e("div",{staticClass:"text-center"},[e("h5",{staticClass:"fw-bolder",staticStyle:{"border-bottom":"1px solid grey"}},[t._v(" "+t._s(s.subject)+" ")]),e("h5",{staticClass:"fw-normal"},[t._v("Location:")]),e("h5",{staticClass:"fw-light"},[t._v(t._s(s.location))]),e("h5",{staticClass:"fw-normal",staticStyle:{"margin-top":"15px"}},[t._v(" Quantity: "+t._s(s.cartquantity)+" ")]),e("h5",{staticClass:"fw-semibold",staticStyle:{"margin-top":"15px"}},[t._v(" AED "+t._s(s.price)+" ")])])]),e("div",{staticClass:"card-footer p-4 pt-0 border-top-0 bg-transparent"},[e("div",{staticClass:"text-center"},[t.cartQuantity(s)?e("button",{staticClass:"btn btn-outline-dark mt-auto",on:{click:function(e){return t.removeFromCart(s)}}},[t._v(" Remove From Cart ")]):e("button",{staticClass:"btn btn-outline-dark mt-auto",on:{click:function(e){return t.reduceQuantity(s)}}},[t._v(" Reduce Quantity from Cart ")])])])])])})),0)])])])])},v=[],f={props:{cart:{type:Array,required:!0}},computed:{cartCount(){return this.cart.length}},methods:{cartQuantity(t){return!(t.cartquantity>1)},removeFromCart(t){this.$emit("remove-from-cart",t)},reduceQuantity(t){this.$emit("reduce-quantity",t)}}},g=f,C=(0,d.Z)(g,m,v,!1,null,null,null),y=C.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid",staticStyle:{"margin-top":"50px"}},[e("main",[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-5"},[e("h4",{staticClass:"mb-3"},[t._v("Checkout Billing Form")]),e("form",{staticClass:"needs-validation"},[e("div",{staticClass:"row g-3"},[e("div",{staticClass:"col-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"firstName",placeholder:"Your Name",required:""},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),e("div",{staticClass:"col-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"you@example.com"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),e("div",{staticClass:"col-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.address,expression:"user.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",placeholder:"Apt 8602, Marina Heights Tower",required:""},domProps:{value:t.user.address},on:{input:function(e){e.target.composing||t.$set(t.user,"address",e.target.value)}}})]),e("div",{staticClass:"col-md-12"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.user.phone,expression:"user.phone",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"phone",placeholder:"+971 332132139",required:""},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),e("hr",{staticClass:"my-4"}),e("button",{staticClass:"w-100 btn btn-primary btn-lg",staticStyle:{"margin-bottom":"25px"},attrs:{value:"Checkout"},on:{click:t.submitCheckout}},[t._v(" Checkout ")])])])])])])},x=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-7"},[e("img",{attrs:{src:s(9122)}})])}],_={name:"checkOut",data(){return{cart:[],user:{name:"",email:"",address:"",city:"",phone:"",method:"Home",gift:!1}}},computed:{cartTotal(){return this.cart.reduce(((t,e)=>t+e.price*e.space),0)},cartCount(){let t=0;return this.cart.forEach((e=>{t+=e.space})),t}},methods:{addToCart(t){const e=this.lessons.findIndex((e=>e.id===t.id));-1!==e&&this.lessons[e].space>0&&(this.lessons[e].space-=1,this.cart.push({cartId:this.cart.length+1,...t}))},submitCheckout(){this.cart.forEach((t=>{const e=this.lessons.findIndex((e=>e.id===t.id));-1!==e&&(this.lessons[e].space+=1)}));const t={checkoutName:this.user.name,checkoutemail:this.user.email,checkoutaddress:this.user.address,checkoutstate:this.user.state,checkoutphone:this.user.phone,cartProduct:this.cart};fetch("http://localhost:3000/collection/order",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",cache:"no-store",body:JSON.stringify(t)}).then((t=>t.json())).then((t=>{console.log("Order submitted:",t),alert(t.message)})).catch((t=>{console.log("Error submitting order:",t)})),this.cart=[],this.user={name:"",email:"",address:"",city:"",phone:"",state:"",method:"Home",gift:!1}}}},k=_,w=(0,d.Z)(k,b,x,!1,null,null,null),S=w.exports,O=s(2492),P=s.n(O),j={name:"App",components:{ProductList:h,Cart:y,checkOut:S},data(){return{page:"home",products:[],cart:[]}},methods:{navigateTo(t){this.page=t},addToCart(t){const e=this.cart.find((e=>e.id===t.id));if(e)e.cartquantity++;else{const e={...t};e.cartquantity=1,this.cart.push(e)}t.cartquantity++,t.space--,P().fire("Added to Cart!",t.subject+" has been added to your cart!","success")},removeFromCart(t){t.cartquantity--,t.space--;const e=this.cart.findIndex((e=>e.id===t.id));-1!==e&&this.cart.splice(e,1),P().fire("Removed from Cart!",t.subject+" has been removed from your cart!","success")},reduceQuantity(t){t.cartquantity--,t.space++},cartCounter(){return this.cart.length>0}},computed:{cartCount(){let t=0;return this.cart.forEach((e=>{t+=e.cartquantity})),console.log(t),t}}},T=j,B=(0,d.Z)(T,r,i,!1,null,null,null),q=B.exports;s(7024);a.ZP.config.productionTip=!1,new a.ZP({render:t=>t(q)}).$mount("#app")},9122:function(t,e,s){t.exports=s.p+"img/background.6e151a41.jpg"}},e={};function s(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,r,i){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],r=t[u][1],i=t[u][2];for(var n=!0,c=0;c<a.length;c++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[c])}))?a.splice(c--,1):(n=!1,i<o&&(o=i));if(n){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,r,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="https://fahad09922khan.github.io/CourseWork3Individual/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,i,o=a[0],n=a[1],c=a[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(c)var u=c(s)}for(e&&e(a);l<o.length;l++)i=o[l],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(u)},a=self["webpackChunkDarsgahSchool"]=self["webpackChunkDarsgahSchool"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(8207)}));a=s.O(a)})();
//# sourceMappingURL=app.3a5c2cd9.js.map